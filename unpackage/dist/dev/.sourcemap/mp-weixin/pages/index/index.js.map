{"version":3,"file":"index.js","sources":["pages/index/index.vue","C:/Users/ctwl/Desktop/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport NavigationBar from '../../components/navigation-bar.vue';\nimport LocationPicker from '../../components/location-picker.vue';\n\nconst router = useRouter();\n\n// 响应式数据\nconst show = ref(false);\nconst current = ref('home');\nconst currTag = ref('non-right');\nconst price = ref(50);\nconst address = ref('');\nconst list = ref([\n  {\n    id: 56,\n    name: '商品名称1商品名称1商品名称1商品名称1商品名称1',\n  },\n  {\n    id: 57,\n    name: '商品名称2商品名称2商品名称2商品名称2商品名称2',\n  },\n]);\n\n// 方法定义\nconst showPopup = () => {\n  show.value = true;\n};\n\nconst bindMapTap = (title: string) => {\n  uni.__f__('log','at pages/index/index.vue:32',title, '地址');\n};\n\nconst bindDetailTap = () => {\n  uni.showLoading({\n    title: '加载中...',\n  });\n  uni.navigateTo({\n    url: '/indexpackage/pages/goodsdetail/goodsdetail',\n    success: () => {\n      uni.hideLoading();\n    },\n    fail: (err) => {\n      uni.hideLoading();\n      uni.__f__('error','at pages/index/index.vue:46','页面跳转失败', err);\n      uni.showToast({\n        title: '跳转失败',\n        icon: 'none',\n      });\n    },\n  });\n};\n\nconst priceChange = (event: any) => {\n  price.value = event.detail.value;\n};\n\nconst onResetPopup = () => {\n  price.value = 50;\n  currTag.value = 'non-right';\n};\n\nconst getList = () => {\n  list.value.push({\n    id: new Date().getTime(),\n    name: '商品名称33333',\n  });\n};\n\nconst onSearch = (event: any) => {\n  uni.__f__('log','at pages/index/index.vue:72',event.detail);\n  getList();\n};\n\nconst onTabsChange = (event: any) => {\n  getList();\n};\n\nconst onSubmitPopup = () => {\n  getList();\n  onClosePopup();\n};\n\nconst onTag = (e: any) => {\n  const type = e.currentTarget.dataset.type;\n  currTag.value = type;\n};\n\nconst handleChange = (event: any) => {\n  current.value = event.detail;\n  uni.navigateTo({\n    url: `../${event.detail}/${event.detail}`,\n  });\n};\n\nconst onClosePopup = () => {\n  show.value = false;\n};\n\n// 生命周期\nonMounted(() => {\n  // 页面挂载时执行的逻辑\n});\n</script>\n\n<template>\n  <view>\n    <van-sticky>\n      <NavigationBar title=\"商城\" :back=\"false\" color=\"black\" background=\"#FFF\" />\n    </van-sticky>\n    <view class=\"shop\">\n      <view class=\"shop__top-con\">\n        <van-sticky :offset-top=\"90\">\n          <view>\n            <LocationPicker @tap=\"bindMapTap\" />\n            <view><van-search @search=\"onSearch\" placeholder=\"请输入购买的商品\"></van-search></view>\n          </view>\n        </van-sticky>\n        <view class=\"shop__banner\">\n          <van-image width=\"100%\" height=\"100\" src=\"//innerstatic.tcy365.com/static/108sq-aihuasuanbeta/assets/img/banner-community.2a2a31b8.png\" />\n        </view>\n        <van-sticky :offset-top=\"180\">\n          <view class=\"shop__tabs\">\n            <van-tabs @change=\"onTabsChange\" swipeable>\n              <van-tab title=\"霸王茶姬\"></van-tab>\n              <van-tab title=\"汉堡王\"></van-tab>\n              <van-tab title=\"星巴克\"></van-tab>\n              <van-tab title=\"肯德基\"></van-tab>\n              <van-tab title=\"肯德基2\"></van-tab>\n              <van-tab title=\"肯德基3\"></van-tab>\n            </van-tabs>\n            <!-- <image class=\"more\" @tap=\"showPopup\" src=\"./img/more.png\" mode=\"aspectFill\"></image> -->\n          </view>\n        </van-sticky>\n      </view>\n      \n      <van-popup v-model:show=\"show\" position=\"top\" @close=\"onClosePopup\">\n        <view class=\"popup\">\n          <view class=\"popup__head\">商城</view>\n          <view class=\"popup__main\">\n            <text class=\"title\">商品类型</text>\n            <view class=\"tag\">\n              <view \n                :data-type=\"'non-right'\" \n                @tap=\"onTag\" \n                :class=\"['tag__item', { 'tag__item--checked': currTag === 'non-right' }]\"\n              >\n                非权益商品\n              </view>\n              <view \n                :data-type=\"'right'\" \n                @tap=\"onTag\" \n                :class=\"['tag__item', { 'tag__item--checked': currTag === 'right' }]\"\n              >\n                权益商品\n              </view>\n            </view>\n            <view class=\"mt-20\">\n              <text class=\"title\">人均价筛选</text>\n            </view>\n            <view class=\"mt-20\">\n              <van-slider v-model=\"price\" @change=\"priceChange\" active-color=\"#ee0a24\" :min=\"0\" :max=\"100\" />\n            </view>\n            <view class=\"mt-20 goods-choose__btn\">\n              <view class=\"btn btn-reset\" @tap=\"onResetPopup\">重置</view>\n              <view class=\"btn btn-comfirm\" @tap=\"onSubmitPopup\">完成</view>\n            </view>\n          </view>\n        </view>\n      </van-popup>\n      \n      <view class=\"shop__goodslist\">\n        <view \n          v-for=\"(item, index) in list\" \n          :key=\"item.id\"\n          :data=\"56\"\n          class=\"goodslist__box\"\n          :data-index=\"index\"\n        >\n          <view class=\"goodsimg\">\n            <image mode=\"aspectFill\" src=\"https://fdsimgtest.tcy365.com/ctrpashop/ct023116958-852f-4699-93af-b1626f8effbd.png\" alt=\"\"></image>\n          </view>\n          <view class=\"goodsname\">\n            <view @tap=\"bindDetailTap\">\n              <view class=\"goodsname__text\">\n                <!-- <image mode=\"aspectFill\" class=\"icon-special\" src=\"./img/vip.png\"></image> -->\n                <text class=\"name\">{{ item.name }}</text>\n              </view>\n              <view class=\"goods-promotion\">\n                <view class=\"promotion\">\n                  <text>直降</text>\n                  <!-- <image mode=\"aspectFill\" class=\"icon-promotion\" src=\"./img/down.png\"></image> -->\n                  <text>49.99元</text>\n                </view>\n              </view>\n            </view>\n            <view class=\"goodsprice goodsprice--rushorder-box\">\n              <!-- <image mode=\"aspectFill\" class=\"goodsprice--rushorder\" src=\"./img/sprice-bg.png\"></image> -->\n              <view class=\"goodsprice__text\">\n                <view class=\"pricedata\">\n                  <view class=\"saleprice\">\n                    <text class=\"unit\">¥</text>\n                    <text class=\"text\">\n                      <text>0</text>\n                      <text class=\"decimal\">.01 起</text>\n                    </text>\n                  </view>\n                  <text class=\"price\">\n                    <text class=\"unit\">¥</text>\n                    <text>50</text>\n                  </text>\n                </view>\n                <view class=\"success-rate\">抢单成功率97.62%</view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<style scoped>\n/* 样式需要从原scss文件转换 */\n.shop {\n  width: 100%;\n  min-height: 100vh;\n}\n\n.shop__top-con {\n  padding-bottom: 20rpx;\n}\n\n.shop__banner {\n  width: 100%;\n  height: 200rpx;\n}\n\n.shop__tabs {\n  position: relative;\n  background: #fff;\n  padding: 20rpx 0;\n}\n\n.shop__tabs .more {\n  position: absolute;\n  right: 20rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 24rpx;\n  height: 24rpx;\n}\n\n.popup {\n  background: #fff;\n  padding: 30rpx;\n}\n\n.popup__head {\n  font-size: 36rpx;\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 30rpx;\n}\n\n.title {\n  font-size: 28rpx;\n  color: #333;\n}\n\n.tag {\n  display: flex;\n  margin-top: 20rpx;\n}\n\n.tag__item {\n  padding: 10rpx 30rpx;\n  border: 1px solid #ddd;\n  border-radius: 30rpx;\n  margin-right: 20rpx;\n  font-size: 24rpx;\n}\n\n.tag__item--checked {\n  color: #e94359;\n  border-color: #e94359;\n}\n\n.mt-20 {\n  margin-top: 20rpx;\n}\n\n.goods-choose__btn {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 40rpx;\n}\n\n.btn {\n  padding: 20rpx 60rpx;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n}\n\n.btn-reset {\n  background: #f5f5f5;\n  color: #666;\n}\n\n.btn-comfirm {\n  background: #e94359;\n  color: #fff;\n}\n\n.shop__goodslist {\n  padding: 20rpx;\n}\n\n.goodslist__box {\n  background: #fff;\n  border-radius: 20rpx;\n  overflow: hidden;\n  margin-bottom: 20rpx;\n}\n\n.goodsimg {\n  width: 100%;\n  height: 400rpx;\n}\n\n.goodsimg image {\n  width: 100%;\n  height: 100%;\n}\n\n.goodsname {\n  padding: 20rpx;\n}\n\n.goodsname__text {\n  display: flex;\n  align-items: center;\n}\n\n.icon-special {\n  width: 32rpx;\n  height: 32rpx;\n  margin-right: 10rpx;\n}\n\n.name {\n  flex: 1;\n  font-size: 28rpx;\n  color: #333;\n}\n\n.goods-promotion {\n  margin-top: 10rpx;\n}\n\n.promotion {\n  display: flex;\n  align-items: center;\n}\n\n.promotion text {\n  font-size: 20rpx;\n  color: #e94359;\n  margin-right: 10rpx;\n}\n\n.icon-promotion {\n  width: 20rpx;\n  height: 20rpx;\n  margin-right: 5rpx;\n}\n\n.goodsprice {\n  margin-top: 20rpx;\n  position: relative;\n}\n\n.goodsprice--rushorder {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 120rpx;\n  height: 60rpx;\n  z-index: 1;\n}\n\n.goodsprice__text {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.pricedata {\n  display: flex;\n  align-items: baseline;\n}\n\n.saleprice {\n  color: #e94359;\n  font-size: 32rpx;\n  font-weight: bold;\n}\n\n.price {\n  color: #999;\n  font-size: 24rpx;\n  margin-left: 20rpx;\n  text-decoration: line-through;\n}\n\n.decimal {\n  font-size: 24rpx;\n  font-weight: normal;\n}\n\n.success-rate {\n  font-size: 20rpx;\n  color: #666;\n}\n</style>","import MiniProgramPage from 'D:/demo/uniapp_share/minprogram_share/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["useRouter","ref","uni","onMounted"],"mappings":";;;;;;;;;;;;;;;AAGA,MAAA,gBAA0B,MAAA;AAC1B,MAAA,iBAA2B,MAAA;;;;AAEZA,4BAAU;AAGnB,UAAA,OAAOC,kBAAI,KAAK;AACNA,kBAAAA,IAAI,MAAM;AACpB,UAAA,UAAUA,kBAAI,WAAW;AACzB,UAAA,QAAQA,kBAAI,EAAE;AACJA,kBAAAA,IAAI,EAAE;AACtB,UAAM,OAAOA,cAAAA,IAAI;AAAA,MACf;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,MACR;AAAA,IAAA,CACD;AAOK,UAAA,aAAa,CAAC,UAAkB;AACpCC,oBAAA,MAAI,MAAM,OAAM,+BAA8B,OAAO,IAAI;AAAA,IAAA;AAG3D,UAAM,gBAAgB,MAAM;AAC1BA,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO;AAAA,MAAA,CACR;AACDA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,QACL,SAAS,MAAM;AACbA,wBAAA,MAAI,YAAY;AAAA,QAClB;AAAA,QACA,MAAM,CAAC,QAAQ;AACbA,wBAAA,MAAI,YAAY;AAChBA,wBAAA,MAAI,MAAM,SAAQ,+BAA8B,UAAU,GAAG;AAC7DA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UAAA,CACP;AAAA,QACH;AAAA,MAAA,CACD;AAAA,IAAA;AAGG,UAAA,cAAc,CAAC,UAAe;AAC5B,YAAA,QAAQ,MAAM,OAAO;AAAA,IAAA;AAG7B,UAAM,eAAe,MAAM;AACzB,YAAM,QAAQ;AACd,cAAQ,QAAQ;AAAA,IAAA;AAGlB,UAAM,UAAU,MAAM;AACpB,WAAK,MAAM,KAAK;AAAA,QACd,KAAI,oBAAI,KAAK,GAAE,QAAQ;AAAA,QACvB,MAAM;AAAA,MAAA,CACP;AAAA,IAAA;AAGG,UAAA,WAAW,CAAC,UAAe;AAC/BA,oBAAA,MAAI,MAAM,OAAM,+BAA8B,MAAM,MAAM;AAClD;IAAA;AAGJ,UAAA,eAAe,CAAC,UAAe;AAC3B;IAAA;AAGV,UAAM,gBAAgB,MAAM;AAClB;AACK;IAAA;AAGT,UAAA,QAAQ,CAAC,MAAW;AAClB,YAAA,OAAO,EAAE,cAAc,QAAQ;AACrC,cAAQ,QAAQ;AAAA,IAAA;AAUlB,UAAM,eAAe,MAAM;AACzB,WAAK,QAAQ;AAAA,IAAA;AAIfC,kBAAAA,UAAU,MAAM;AAAA,IAAA,CAEf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtGD,GAAG,WAAW,eAAe;"}