{"version":3,"file":"goodsdetail.js","sources":["packageA/pages/goodsdetail/goodsdetail.vue","C:/Users/ctwl/Desktop/HBuilderX.4.85.2025110510/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFja2FnZUFccGFnZXNcZ29vZHNkZXRhaWxcZ29vZHNkZXRhaWwudnVl"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted } from 'vue';\nimport NavigationBar from '../../../components/navigation-bar.vue';\n\n// 响应式数据\nconst goodsId = ref('');\nconst goodsInfo = ref({\n  id: '',\n  name: '',\n  price: 0,\n  originalPrice: 0,\n  image: '',\n  description: '',\n  specifications: [],\n  details: []\n});\nconst loading = ref(true);\n\n// 方法定义\nconst getGoodsInfo = async () => {\n  try {\n    // 在实际项目中，这里应该调用接口获取商品详情\n    // 这里使用模拟数据\n    goodsInfo.value = {\n      id: goodsId.value || '1',\n      name: '示例商品',\n      price: 99.9,\n      originalPrice: 199.9,\n      image: '/static/example.png',\n      description: '这是一个示例商品的描述',\n      specifications: [\n        { name: '规格1', value: '默认' },\n        { name: '规格2', value: '标准' }\n      ],\n      details: [\n        { image: '/static/detail1.png' },\n        { image: '/static/detail2.png' }\n      ]\n    };\n  } catch (error) {\n    uni.__f__('error','at packageA/pages/goodsdetail/goodsdetail.vue:41','获取商品详情失败', error);\n    uni.showToast({\n      title: '获取商品详情失败',\n      icon: 'none'\n    });\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst addToCart = () => {\n  uni.showToast({\n    title: '已加入购物车',\n    icon: 'success'\n  });\n};\n\nconst buyNow = () => {\n  uni.navigateTo({\n    url: '/pages/order/confirm'\n  });\n};\n\n// 生命周期\nonMounted(() => {\n  // 获取页面参数\n  const pages = getCurrentPages();\n  const currentPage = pages[pages.length - 1];\n  goodsId.value = currentPage.options?.id || '';\n  \n  getGoodsInfo();\n});\n</script>\n\n<template>\n  <view class=\"goods-detail-container\">\n    <NavigationBar title=\"商品详情\" :back=\"true\" color=\"black\" background=\"#FFF\" />\n    \n    <van-sticky>\n      <view class=\"nav-tabs\">\n        <view class=\"tab-item active\">商品详情</view>\n        <view class=\"tab-item\">规格参数</view>\n        <view class=\"tab-item\">用户评价</view>\n      </view>\n    </van-sticky>\n    \n    <van-loading v-if=\"loading\" type=\"spinner\" color=\"#1989fa\" />\n    \n    <view v-else class=\"goods-content\">\n      <!-- 商品轮播图 -->\n      <view class=\"goods-image\">\n        <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-dots>\n          <van-swipe-item>\n            <image :src=\"goodsInfo.image\" mode=\"aspectFill\"></image>\n          </van-swipe-item>\n        </van-swipe>\n      </view>\n      \n      <!-- 商品信息 -->\n      <view class=\"goods-info\">\n        <view class=\"price-section\">\n          <text class=\"current-price\">¥{{ goodsInfo.price }}</text>\n          <text class=\"original-price\">¥{{ goodsInfo.originalPrice }}</text>\n        </view>\n        <view class=\"name-section\">{{ goodsInfo.name }}</view>\n        <view class=\"desc-section\">{{ goodsInfo.description }}</view>\n      </view>\n      \n      <!-- 商品详情 -->\n      <view class=\"goods-details\">\n        <view class=\"section-title\">商品详情</view>\n        <view class=\"detail-content\">\n          <view v-for=\"(item, index) in goodsInfo.details\" :key=\"index\" class=\"detail-image\">\n            <image :src=\"item.image\" mode=\"aspectFill\"></image>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 底部操作栏 -->\n    <view class=\"bottom-bar\">\n      <view class=\"cart-btn\" @tap=\"addToCart\">\n        <van-icon name=\"cart-o\" size=\"48rpx\" color=\"#666\"></van-icon>\n        <text class=\"btn-text\">购物车</text>\n      </view>\n      <view class=\"buy-now\" @tap=\"buyNow\">立即购买</view>\n      <view class=\"add-cart\" @tap=\"addToCart\">加入购物车</view>\n    </view>\n  </view>\n</template>\n\n<style scoped>\n.goods-detail-container {\n  width: 100%;\n  min-height: 100vh;\n  background: #f5f5f5;\n}\n\n.nav-tabs {\n  display: flex;\n  background: #fff;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.tab-item {\n  flex: 1;\n  text-align: center;\n  padding: 30rpx 0;\n  font-size: 28rpx;\n  color: #666;\n  position: relative;\n}\n\n.tab-item.active {\n  color: #1989fa;\n}\n\n.tab-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 40rpx;\n  height: 6rpx;\n  background: #1989fa;\n  border-radius: 3rpx;\n}\n\n.goods-image {\n  width: 100%;\n  height: 750rpx;\n  background: #fff;\n}\n\n.my-swipe {\n  height: 100%;\n}\n\n.my-swipe image {\n  width: 100%;\n  height: 100%;\n}\n\n.goods-info {\n  background: #fff;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n}\n\n.price-section {\n  margin-bottom: 20rpx;\n}\n\n.current-price {\n  font-size: 44rpx;\n  font-weight: bold;\n  color: #e94359;\n  margin-right: 20rpx;\n}\n\n.original-price {\n  font-size: 28rpx;\n  color: #999;\n  text-decoration: line-through;\n}\n\n.name-section {\n  font-size: 32rpx;\n  color: #333;\n  margin-bottom: 15rpx;\n  line-height: 1.4;\n}\n\n.desc-section {\n  font-size: 28rpx;\n  color: #666;\n  line-height: 1.4;\n}\n\n.goods-details {\n  background: #fff;\n  padding: 30rpx;\n}\n\n.section-title {\n  font-size: 32rpx;\n  color: #333;\n  font-weight: 500;\n  margin-bottom: 20rpx;\n}\n\n.detail-image {\n  width: 100%;\n  margin-bottom: 10rpx;\n}\n\n.detail-image image {\n  width: 100%;\n  height: auto;\n}\n\n.bottom-bar {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n  display: flex;\n  align-items: center;\n  padding: 20rpx;\n  box-shadow: 0 -2rpx 10rpx rgba(0, 0, 0, 0.1);\n}\n\n.cart-btn {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.btn-text {\n  font-size: 24rpx;\n  color: #666;\n  margin-top: 8rpx;\n}\n\n.buy-now,\n.add-cart {\n  padding: 20rpx 40rpx;\n  border-radius: 40rpx;\n  font-size: 32rpx;\n  text-align: center;\n}\n\n.buy-now {\n  background: #e94359;\n  color: #fff;\n  margin-left: 20rpx;\n  flex: 1;\n}\n\n.add-cart {\n  background: #ff9500;\n  color: #fff;\n  margin-left: 20rpx;\n  flex: 1;\n}\n</style>","import MiniProgramPage from 'D:/demo/uniapp_share/minprogram_share/packageA/pages/goodsdetail/goodsdetail.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted"],"mappings":";;;;;;;;;;;;;AAEA,MAAA,gBAA0B,MAAA;;;;AAGpB,UAAA,UAAUA,kBAAI,EAAE;AACtB,UAAM,YAAYA,cAAAA,IAAI;AAAA,MACpB,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,OAAO;AAAA,MACP,eAAe;AAAA,MACf,OAAO;AAAA,MACP,aAAa;AAAA,MACb,gBAAgB,CAAC;AAAA,MACjB,SAAS,CAAC;AAAA,IAAA,CACX;AACK,UAAA,UAAUA,kBAAI,IAAI;AAGxB,UAAM,eAAe,YAAY;AAC3B,UAAA;AAGF,kBAAU,QAAQ;AAAA,UAChB,IAAI,QAAQ,SAAS;AAAA,UACrB,MAAM;AAAA,UACN,OAAO;AAAA,UACP,eAAe;AAAA,UACf,OAAO;AAAA,UACP,aAAa;AAAA,UACb,gBAAgB;AAAA,YACd,EAAE,MAAM,OAAO,OAAO,KAAK;AAAA,YAC3B,EAAE,MAAM,OAAO,OAAO,KAAK;AAAA,UAC7B;AAAA,UACA,SAAS;AAAA,YACP,EAAE,OAAO,sBAAsB;AAAA,YAC/B,EAAE,OAAO,sBAAsB;AAAA,UACjC;AAAA,QAAA;AAAA,eAEK,OAAO;AACdC,sBAAA,MAAI,MAAM,SAAQ,oDAAmD,YAAY,KAAK;AACtFA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QAAA,CACP;AAAA,MAAA,UACD;AACA,gBAAQ,QAAQ;AAAA,MAClB;AAAA,IAAA;AAGF,UAAM,YAAY,MAAM;AACtBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MAAA,CACP;AAAA,IAAA;AAGH,UAAM,SAAS,MAAM;AACnBA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MAAA,CACN;AAAA,IAAA;AAIHC,kBAAAA,UAAU,MAAM;;AAEd,YAAM,QAAQ;AACd,YAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAClC,cAAA,UAAQ,iBAAY,YAAZ,mBAAqB,OAAM;AAE9B;IAAA,CACd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtED,GAAG,WAAW,eAAe;"}